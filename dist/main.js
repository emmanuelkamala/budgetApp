!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){class n{constructor(){this.budgetFeedback=document.querySelector(".budget-feedback"),this.expenseFeedback=document.querySelector(".expense-feedback"),this.budgetForm=document.getElementById("budget-form"),this.budgetInput=document.getElementById("budget-input"),this.budgetAmount=document.getElementById("budget-amount"),this.expenseAmount=document.getElementById("expense-amount"),this.balance=document.getElementById("balance"),this.balanceAmount=document.getElementById("balance-amount"),this.expenseForm=document.getElementById("expense-form"),this.expenseInput=document.getElementById("expense-input"),this.amountInput=document.getElementById("amount-input"),this.expenseList=document.getElementById("expense-list"),this.itemList=[],this.itemID=0}submitBudgetForm(){const e=this.budgetInput.value;""===e||e<0?(this.budgetFeedback.classList.add("showItem"),this.budgetFeedback.innerHTML="<p>Value can not be empty or negative</p>",setTimeout(()=>{this.budgetFeedback.classList.remove("showItem")},5e3)):(this.budgetAmount.textContent=e,this.budgetInput.value="",this.showBalance())}showBalance(){const e=this.totalExpense(),t=parseInt(this.budgetAmount.textContent)-e;this.balanceAmount.textContent=t,t<0?(this.balance.classList.remove("showGreen","showBlack"),this.balance.classList.add("showRed")):t>0?(this.balance.classList.remove("showRed","showBlack"),this.balance.classList.add("showGreen")):0===t&&(this.balance.classList.remove("showRed","showGreen"),this.balance.classList.add("showBlack"))}submitExpenseForm(){const e=this.expenseInput.value,t=this.amountInput.value;if(""===e||""===t||t<0)this.expenseFeedback.classList.add("showItem"),this.expenseFeedback.innerHTML="<p>Values can not be empty or negative</p>",setTimeout(()=>{this.expenseFeedback.classList.remove("showItem")},5e3);else{let n=parseInt(t);this.expenseInput.value="",this.amountInput.value="";let s={id:this.itemID,title:e,amount:n};this.itemID++,this.itemList.push(s),this.addExpense(s),this.showBalance()}}addExpense(e){const t=document.createElement("div");t.classList.add("expense"),t.innerHTML=`<div class="expense-item d-flex justify-content-between align-items-baseline">\n\n        <h6 class="expense-title mb-0 text-uppercase list-item">- ${e.title}</h6>\n        <h5 class="expense-amount mb-0 list-item">${e.amount}</h5>\n\n        <div class="expense-icons list-item">\n\n         <a href="#" class="edit-icon mx-2" data-id="${e.id}">\n          <i class="fa fa-edit"></i>\n         </a>\n         <a href="#" class="delete-icon" data-id="${e.id}">\n          <i class="fa fa-trash"></i>\n         </a>\n        </div>\n       </div>`,this.expenseList.append(t)}totalExpense(){let e=0;return this.itemList.length>0&&(e=this.itemList.reduce((e,t)=>e+=t.amount,0)),this.expenseAmount.textContent=e,e}editExpense(e){let t=parseInt(e.dataset.id),n=e.parentElement.parentElement.parentElement;this.expenseList.removeChild(n);let s=this.itemList.filter(e=>e.id===t);this.expenseInput.value=s[0].title,this.amountInput.value=s[0].amount;let i=this.itemList.filter(e=>e.id!==t);this.itemList=i,this.showBalance()}deleteExpense(e){let t=parseInt(e.dataset.id),n=e.parentElement.parentElement.parentElement;this.expenseList.removeChild(n);let s=this.itemList.filter(e=>e.id!==t);this.itemList=s,this.showBalance()}}document.addEventListener("DOMContentLoaded",()=>{!function(){const e=document.getElementById("budget-form"),t=document.getElementById("expense-form"),s=document.getElementById("expense-list"),i=new n;e.addEventListener("submit",e=>{e.preventDefault(),i.submitBudgetForm()}),t.addEventListener("submit",e=>{e.preventDefault(),i.submitExpenseForm()}),s.addEventListener("click",e=>{e.target.parentElement.classList.contains("edit-icon")?i.editExpense(e.target.parentElement):e.target.parentElement.classList.contains("delete-icon")&&i.deleteExpense(e.target.parentElement)})}()})}]);